# Exemplo de configuração do Nginx para servir arquivos estáticos
# Adicione este bloco ao seu arquivo de configuração do site

# Servir arquivos estáticos da pasta de uploads
location /arquivos_globalizacontabil/ {
    alias /var/www/html/arquivos_globalizacontabil/;
    
    # Configurações de segurança
    location ~* \.(pdf|doc|docx|xls|xlsx|ppt|pptx|txt|rtf)$ {
        # Para documentos, forçar download
        add_header Content-Disposition "attachment";
        add_header Content-Type "application/octet-stream";
    }
    
    location ~* \.(jpg|jpeg|png|gif|webp|svg)$ {
        # Para imagens, permitir visualização
        expires 30d;
        add_header Cache-Control "public, immutable";
    }
    
    location ~* \.(mp4|avi|mov|wmv|flv|webm)$ {
        # Para vídeos, permitir streaming
        expires 7d;
        add_header Cache-Control "public";
    }
    
    location ~* \.(mp3|wav|ogg|aac|flac)$ {
        # Para áudios, permitir streaming
        expires 7d;
        add_header Cache-Control "public";
    }
    
    # Configurações gerais
    expires 1d;
    add_header Cache-Control "public";
    
    # Logs
    access_log /var/log/nginx/arquivos_access.log;
    error_log /var/log/nginx/arquivos_error.log;
}

# Configuração alternativa para Apache (.htaccess)
# Coloque este arquivo na pasta /var/www/html/arquivos_globalizacontabil/

# <IfModule mod_rewrite.c>
#     RewriteEngine On
#     
#     # Forçar download de documentos
#     <FilesMatch "\.(pdf|doc|docx|xls|xlsx|ppt|pptx|txt|rtf)$">
#         ForceType application/octet-stream
#         Header set Content-Disposition "attachment"
#     </FilesMatch>
#     
#     # Cache para imagens
#     <FilesMatch "\.(jpg|jpeg|png|gif|webp|svg)$">
#         ExpiresActive On
#         ExpiresDefault "access plus 30 days"
#         Header set Cache-Control "public, immutable"
#     </FilesMatch>
#     
#     # Cache para vídeos e áudios
#     <FilesMatch "\.(mp4|avi|mov|wmv|flv|webm|mp3|wav|ogg|aac|flac)$">
#         ExpiresActive On
#         ExpiresDefault "access plus 7 days"
#         Header set Cache-Control "public"
#     </FilesMatch>
# </IfModule>
